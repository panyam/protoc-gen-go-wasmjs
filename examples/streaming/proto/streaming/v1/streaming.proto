syntax = "proto3";

package streaming.v1;

option go_package = "github.com/panyam/protoc-gen-go-wasmjs/examples/streaming/gen/go/streaming/v1;streamingv1";

// Test message for streaming
message TickRequest {
    int32 count = 1;
    int32 interval_ms = 2;
    string message = 3;
}

message TickResponse {
    int32 tick_number = 1;
    int64 timestamp = 2;
    string message = 3;
    bool is_final = 4;
}

// Service with server streaming method
service TickService {
    // Server streaming: sends multiple responses for one request
    rpc GetTicks(TickRequest) returns (stream TickResponse);
    
    // Regular unary method for comparison
    rpc GetSingleTick(TickRequest) returns (TickResponse);
}